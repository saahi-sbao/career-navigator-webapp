{"version":3,"sources":["../../../../src/ai/flows/story-generator.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview A simple story generation flow.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\nconst StoryInputSchema = z.object({\n  prompt: z.string().describe('The prompt for the story.'),\n});\nexport type StoryInput = z.infer<typeof StoryInputSchema>;\n\nconst StoryOutputSchema = z.object({\n  story: z.string().describe('The generated story.'),\n});\nexport type StoryOutput = z.infer<typeof StoryOutputSchema>;\n\nexport async function generateStory(input: StoryInput): Promise<StoryOutput> {\n  return storyGeneratorFlow(input);\n}\n\nconst storyPrompt = ai.definePrompt({\n  name: 'storyPrompt',\n  input: { schema: StoryInputSchema },\n  output: { schema: StoryOutputSchema },\n  prompt: `You are a creative and imaginative storyteller. Write a fun and engaging story based on the following prompt:\n\nPrompt: {{{prompt}}}\n\nPlease ensure the story is suitable for all ages.`,\n});\n\nconst storyGeneratorFlow = ai.defineFlow(\n  {\n    name: 'storyGeneratorFlow',\n    inputSchema: StoryInputSchema,\n    outputSchema: StoryOutputSchema,\n  },\n  async (input) => {\n    const { output } = await storyPrompt(input);\n    \n    // The prompt asks for a story in the 'story' field of the output schema.\n    // If the model output is null, we'll have a fallback.\n    return {\n      story: output?.story || \"I'm sorry, I couldn't come up with a story for that prompt.\",\n    };\n  }\n);\n"],"names":[],"mappings":"qQAOA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,oBAEA,IAAM,EAAmB,EAAA,CAAC,CAAC,MAAM,CAAC,CAChC,OAAQ,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,4BAC9B,GAGM,EAAoB,EAAA,CAAC,CAAC,MAAM,CAAC,CACjC,MAAO,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,uBAC7B,GAGO,eAAe,EAAc,CAAiB,EACnD,OAAO,EAAmB,EAC5B,CAEA,IAAM,EAAc,EAAA,EAAE,CAAC,YAAY,CAAC,CAClC,KAAM,cACN,MAAO,CAAE,OAAQ,CAAiB,EAClC,OAAQ,CAAE,OAAQ,CAAkB,EACpC,OAAQ,CAAC;;;;iDAIsC,CAAC,AAClD,GAEM,EAAqB,EAAA,EAAE,CAAC,UAAU,CACtC,CACE,KAAM,qBACN,YAAa,EACb,aAAc,CAChB,EACA,MAAO,IACL,GAAM,CAAE,QAAM,CAAE,CAAG,MAAM,EAAY,GAIrC,MAAO,CACL,MAAO,GAAQ,OAAS,6DAC1B,CACF,mCA7BoB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA"}